<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>Reserve Appointment Slot</title>
  <style>
    body { font-family: Arial, sans-serif; max-width: 600px; margin: 50px auto; padding: 0 20px; }
    form { background: #f9f9f9; padding: 20px; border-radius: 8px; }
    label { display: block; margin: 15px 0 5px; font-weight: bold; }
    input, select { width: 100%; padding: 8px; margin-bottom: 10px; border: 1px solid #ccc; border-radius: 4px; box-sizing: border-box; }
    button { background: #28a745; color: white; padding: 10px 20px; border: none; border-radius: 4px; cursor: pointer; font-size: 16px; }
    button:hover { background: #218838; }
    .info { background: #e7f3ff; padding: 10px; border-left: 4px solid #007bff; margin-bottom: 20px; }
    .note { font-size: 0.9em; color: #666; margin-top: 15px; }
  </style>
</head>
<body>
  <h1>Reserve Appointment Slot</h1>
  
  <div class="info">
    <strong>Slot:</strong> <%= new Date(timeslot.date).toLocaleDateString() %> at <%= timeslot.start %><% if(timeslot.end) { %> - <%= timeslot.end %><% } %><br>
    <strong>Remaining seats:</strong> <%= remaining %> out of <%= timeslot.capacity %>
  </div>

  <form method="post">
    <label for="name">Full Name (Primary attendee) *</label>
    <input id="name" name="name" type="text" required placeholder="Enter the full name of the person attending">

    <label for="email">Email Address *</label>
    <input id="email" name="email" type="email" required placeholder="yourname@example.com">

    <label for="phone">Phone Number *</label>
    <input id="phone" name="phone" type="tel" required placeholder="555-123-4567">

    <label for="partySize">Number of People in Appointment (1-5) *</label>
    <input id="partySize" name="partySize" type="number" min="1" max="5" value="1" required>

    <label>
      <input name="recurring" type="checkbox" value="1" style="width: auto; display: inline;">
      I am a recurring devotee (save my info for future bookings)
    </label>

    <button type="submit">Confirm Reservation</button>

    <p class="note">
      <strong>Note:</strong> A confirmation email and SMS with a QR code will be sent to the provided email and phone number. 
      Please present the QR code and a valid ID matching the primary attendee's name at the entrance.
    </p>
  </form>

  <p><a href="/">‚Üê Back to available slots</a></p>
</body>
</html>
